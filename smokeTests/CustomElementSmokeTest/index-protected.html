<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<!-- -->
		<script>
			window.__exported_components_polyfill_scope__ = window;
			flags = {
				protect: true
			};
		</script>
		<!-- -->
		<script src="../../src/lang.js"></script>
		<script src="../../src/ComponentDocument/path.js"></script>
		<script src="../../src/ComponentDocument/loader.js"></script>
		<script src="../../src/ComponentDocument/parser.js"></script>
		<!-- -->
		<script src="../../src/ShadowDom/customShadow.js"></script>
		<!-- -->
		<script src="../../src/CustomElement/HtmlElementElement.js"></script>
		<script src="../../src/CustomElement/Declaration.js"></script>
		<script src="../../src/CustomElement/declarationRegistry.js"></script>
	</head>
	<body>
		<script>
			Class = function(inBase, inProto) {
				var ctor = function() {};
				if (inBase) {
					if (inProto) {
						inProto.__proto__ = inBase.prototype;
					} else {
						inProto = inBase;
					}
				}
				if (inProto) {
					ctor.prototype = inProto;
				}
				return ctor;
			};
		</script>
		<script>
			XFooImpl = Class(null, {
				attach: function(inNode) {
					inNode.orangate = function(){this.orangate(inNode)}.bind(this);
				},
				orangate: function(inNode) {
					inNode.style.backgroundColor = "orange";
				},
				created: function(inRoot) {
					console.log("XFooImpl.created");
				}
			});
			XFoo = document.register("x-foo", XFooImpl);
			//
			XBarImpl = Class(null, {
				created: function(inRoot, inKey) {
					console.log("XBarImpl.created");
				}
			});
			XBar = document.register("x-bar", XBarImpl, {
				extendsName: "x-foo"
			});
			//
			bazTemplate = document.createElement("template");
			bazTemplate.content.innerHTML = "[BAZ]<content></content>[BAZ]";
			XBazImpl = Class(null, {
				created: function(inRoot) {
					XFooImpl.prototype.created.call(this, inRoot);
				}
			});
			XBaz = document.register("x-baz", XBazImpl, {
				extendsName: "x-foo",
				template: bazTemplate
			});
			//
			XZotImpl = Class(XFooImpl, {});
			XZot = document.register("x-zot", XZotImpl);
		</script>
		<script>
			var foo = document.createElement("x-foo");
			foo.lightdom.innerHTML = "x-foo";
			document.body.appendChild(foo);
			foo.orangate();
			//
			var bar = document.createElement("x-bar");
			bar.lightdom.innerHTML = "x-bar";
			document.body.appendChild(bar);
			bar.orangate();
			//
			var baz = document.createElement("x-baz");
			baz.lightdom.innerHTML = "x-baz";
			document.body.appendChild(baz);
			baz.orangate();
			//
			var zot = document.createElement("x-zot");
			zot.lightdom.innerHTML = "x-zot";
			document.body.appendChild(zot);
			zot.orangate();
		</script>
	</body>
</html>
